[{"E:\\react practice\\cred-firebase\\src\\index.js":"1","E:\\react practice\\cred-firebase\\src\\App.js":"2","E:\\react practice\\cred-firebase\\src\\reportWebVitals.js":"3","E:\\react practice\\cred-firebase\\src\\components\\Form.js":"4","E:\\react practice\\cred-firebase\\src\\firebase.js":"5","E:\\react practice\\cred-firebase\\src\\components\\TodoList.js":"6","E:\\react practice\\cred-firebase\\src\\components\\Todo.js":"7","E:\\react practice\\cred-firebase\\src\\components\\UploadImage.js":"8"},{"size":500,"mtime":499162500000,"results":"9","hashOfConfig":"10"},{"size":510,"mtime":1608580951488,"results":"11","hashOfConfig":"10"},{"size":362,"mtime":499162500000,"results":"12","hashOfConfig":"10"},{"size":648,"mtime":1608499768472,"results":"13","hashOfConfig":"10"},{"size":593,"mtime":1608499583764,"results":"14","hashOfConfig":"10"},{"size":771,"mtime":1608500607863,"results":"15","hashOfConfig":"10"},{"size":717,"mtime":1608500149593,"results":"16","hashOfConfig":"10"},{"size":2081,"mtime":1608547508434,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"1pp8ths",{"filePath":"21","messages":"22","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"20"},"E:\\react practice\\cred-firebase\\src\\index.js",[],["36","37"],"E:\\react practice\\cred-firebase\\src\\App.js",["38"],"E:\\react practice\\cred-firebase\\src\\reportWebVitals.js",[],"E:\\react practice\\cred-firebase\\src\\components\\Form.js",[],"E:\\react practice\\cred-firebase\\src\\firebase.js",[],"E:\\react practice\\cred-firebase\\src\\components\\TodoList.js",[],"E:\\react practice\\cred-firebase\\src\\components\\Todo.js",[],"E:\\react practice\\cred-firebase\\src\\components\\UploadImage.js",["39"],"import React, { useState, useEffect } from 'react';\r\nimport firebase from '../firebase';\r\nimport { v4 as uuid } from 'uuid';\r\n\r\n\r\nexport default function UploadImage() {\r\n\r\n    const [imageUrl, setImageUrl] = useState([]);\r\n\r\n    const readImages = async (e) => {\r\n        const file = e.target.files[0];\r\n        const id = uuid();\r\n        const storageRef = firebase.storage().ref('images').child(id);\r\n        const imageRef = firebase.database().ref('images').child('daily').child(id);\r\n        await storageRef.put(file);\r\n        storageRef.getDownloadURL().then((url) => {\r\n            imageRef.set(url);\r\n            const newState = [...imageUrl, { id, url }];\r\n            setImageUrl(newState);\r\n        });\r\n    };\r\n\r\n    const getImageUrl = () => {\r\n        const imageRef = firebase.database().ref('images').child('daily');\r\n        imageRef.on('value', (snapshot) => {\r\n            const imageUrls = snapshot.val();\r\n            const urls = [];\r\n            for (let id in imageUrls) {\r\n                urls.push({ id, url: imageUrls[id] });\r\n            }\r\n            const newState = [...imageUrl, ...urls];\r\n            setImageUrl(newState);\r\n        });\r\n    };\r\n    const deleteImage = (id) => {\r\n        const storageRef = firebase.storage().ref('images').child(id);\r\n        const imageRef = firebase.database().ref('images').child('daily').child(id);\r\n        storageRef.delete().then(() => {\r\n            imageRef.remove();\r\n        });\r\n    };\r\n    useEffect(() => {\r\n        getImageUrl();\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            <h1>Upload imgae</h1>\r\n            <input type=\"file\" accept=\"image/*\" onChange={readImages} />\r\n            {imageUrl\r\n                ? imageUrl.map(({ id, url }) => {\r\n                    return (\r\n                        <div key={id}>\r\n                            <img src={url} alt=\"\" />\r\n                            <button onClick={() => deleteImage(id)}>Delete</button>\r\n                        </div>\r\n                    );\r\n                })\r\n                : ''}\r\n        </div>\r\n    );\r\n}",{"ruleId":"40","replacedBy":"41"},{"ruleId":"42","replacedBy":"43"},{"ruleId":"44","severity":1,"message":"45","line":1,"column":8,"nodeType":"46","messageId":"47","endLine":1,"endColumn":12},{"ruleId":"48","severity":1,"message":"49","line":44,"column":8,"nodeType":"50","endLine":44,"endColumn":10,"suggestions":"51"},"no-native-reassign",["52"],"no-negated-in-lhs",["53"],"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getImageUrl'. Either include it or remove the dependency array.","ArrayExpression",["54"],"no-global-assign","no-unsafe-negation",{"desc":"55","fix":"56"},"Update the dependencies array to be: [getImageUrl]",{"range":"57","text":"58"},[1528,1530],"[getImageUrl]"]